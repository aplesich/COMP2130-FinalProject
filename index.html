<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Web Programming: Term Project</title>
  <style>
    body{
      background-color: lightgrey;
    }

  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  
  <script>

  onload=function()
  {
    //------------ create textboxes and button ---------------//

    let textbox = document.createElement("input")
    textbox.type = "text"
    textbox.class = "txtbox"
    textbox.id = "txt"
    textbox.style.margin = "20px";
    textbox.style.padding = "5px";
    textbox.style.width = "15em";
    document.body.appendChild(textbox)

    let myButton = document.createElement("input")
    myButton.type = "button"
    myButton.id = "go"
    myButton.value = "Go"
    myButton.style.margin = "0 -10px";
    myButton.style.padding = "6px 11px";
    myButton.style.border = "1px solid black";
    myButton.style.position = "relative";
    myButton.style.right = "12px";
    myButton.style.backgroundColor = "#ADDAB9";
    document.body.appendChild(myButton)
    CreateBr()

    //----- when button is pressed, run functions (depends on textarea content) -----//

    myButton.onclick=function()
    {
      var textbox = document.getElementById("txt")
      var textarea = textbox.value.toLowerCase()

      if(textarea.includes("storage"))
      {
        CreateStorage()
        CreateBr()
      }

      if(textarea.includes("alien"))
      {
        CreateAlien()
      }

      if(textarea.includes("jquery"))
      {
        CreateJquery()
        CreateBr()
      }

      if(textarea.includes("plugin"))
      {
        CreatePlugin()
        CreateBr()
      }

      if(textarea.includes("ajax"))
      {
        CreateAjax()
        CreateBr()
      }

      if(textarea.includes("alphabet"))
      {
        CreateAlphabet()
      }
    }
  }

  //-------------- functions when button is pressed ----------------//

  function CreateBr(){
    var br = document.createElement("br");
    document.body.appendChild(br);
  }

  /////////////////////////////////////////////

  function CreateStorage(){
    var storagelink = document.createElement("a");
    storagelink.href = "./storage.html"
    storagelink.innerText = "Learn about localStorage";
    document.body.appendChild(storagelink);

    console.log("storage test")
  }

  /////////////////////////////////////////////

  function CreateAlien(){
    var alien = document.createElement("img");
    document.body.appendChild(alien);
    AlienControls()
    console.log("alien test")
  }

  /////////////////////////////////////////////

  function CreateJquery(){
    for(let i = 0; i < 4; i++) {
      const img = document.createElement("img");
      img.src = "http://placekitten.com/600/700";
      img.style.margin = "10px";
      document.body.appendChild(img);
    }

    $("img").width("200px");
    
    $("img").eq(1).click(function(){
      $(this).css('border', '15px solid red');
    })

    console.log("jquery test")
  }

  /////////////////////////////////////////////

  function CreatePlugin(){
    var pluginlink = document.createElement("a");
    pluginlink.href = "./plugin.html"
    pluginlink.innerText = "Check out this cool jquery plugin!";
    document.body.appendChild(pluginlink);  

    console.log("plugin test")
  }

  /////////////////////////////////////////////

  function CreateAjax(){
    var r = new XMLHttpRequest()
    r.open("GET", "advice.txt", true)
    r.onreadystatechange=loadData
    r.send(null)
    
    function loadData(){
      if(r.readyState == 4)
      {
        var adviceTxt = r.responseText
        var adviceArray = JSON.parse(adviceTxt)
        var advice = adviceArray.join(" ")

        var adviceUp = advice.toUpperCase()

        var h1 = document.createElement("h1");
        h1.innerText = adviceUp;
        document.body.appendChild(h1);
      }
  }
}

  ////////////////////////////////////////////////

  function CreateAlphabet(){
    
    console.log("alphabet test")
  }


  //-------------- alien's functions ----------------//

  function AlienControls(){
    
    console.log("alien function")
  }
  </script>
</head>

<body>
  <script></script>
</body>

</html>